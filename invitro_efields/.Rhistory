# Get electric field results ----
results <- get_efield(params)
results
# 3.2. coil_distance
params["coil_distance"] <- 1
# Get electric field results ----
results <- get_efield(params)
results
params
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
50-(37/10)
50*0.4
50*0.04
20-(37/10)
50-(10/10)
50-(24/10)
30-(24/10)
30-(37/10)
24/10
37/10
7*7
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# Define search parameters ----
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4.9
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3.7
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.3
# 2. Petri dish properties
params["liquid_height"] <- 10
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- 65
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
results <- get_efield(params)
results
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.3
# 2. Petri dish properties
params["liquid_height"] <- 10
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- 65
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
results <- get_efield(params)
results
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# Define search parameters ----
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.3
# 2. Petri dish properties
params["liquid_height"] <- 10
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- 65
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
results <- get_efield(params)
results
# 2. Petri dish properties
params["liquid_height"] <- 2.16
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- 65
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
results <- get_efield(params)
results
# some useful functions ----
range(data$bt_height)
str(data)
View(results)
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.15
# 2. Petri dish properties
params["liquid_height"] <- 2.16
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- 65
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
results <- get_efield(params)
results
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# Define search parameters ----
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.15
# 2. Petri dish properties
# params["liquid_height"] <- 10 or
params["liquid_height"] <- 2.01 + params["bt_height"]
params["bt_height"]
2.01 + params["bt_height"]
View(params)
# 2. Petri dish properties
# params["liquid_height"] <- 10 or
params["liquid_height"] <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- 65
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
results <- get_efield(params)
results
View(get_efield)
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# Define search parameters ----
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.15
# 2. Petri dish properties
# params["liquid_height"] <- 10 or
params["liquid_height"] <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- 65
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
results <- get_efield(params)
results
#
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.15
# 2. Petri dish properties
# params["liquid_height"] <- 10 or
params["liquid_height"] <- 10
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- 65
# 3.2. coil_distance
params["coil_distance"] <- 1
# Get electric field results ----
results <- get_efield(params)
results
# Define search parameters ----
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.15
# 2. Petri dish properties
params["liquid_height"] <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- 65
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
results <- get_efield(params)
results
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.15
# 2. Petri dish properties
params["liquid_height"] <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- seq(from = 50, to = 60, by = 1)
seq(from = 50, to = 60, by = 1)
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.15
# 2. Petri dish properties
params["liquid_height"] <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- seq(from = 50, to = 60, by = 1)
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- seq(from = 50, to = 60, by = 1)
View(params)
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
search2 <- get_efield(params)
search2
View(search2)
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- seq(from = 40, to = 50, by = 1)
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
search2 <- get_efield(params)
search2
View(search2)
View(results)
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# Define search parameters ----
#
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.15
# 2. Petri dish properties
# params["liquid_height"] <- 10 or
params["liquid_height"] <- 10
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params["mso"] <- 65
# 3.2. coil_distance
params["coil_distance"] <- 1
# Get electric field results ----
search1 <- get_efield(params)
search1
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params["bt_width"] <- 4
# 1.2. depth of brain tissue in mm
params["bt_depth"] <- 3
# 1.3. height of brain tissue in mm
params["bt_height"] <- 0.15
# 2. Petri dish properties
params["liquid_height"] <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- seq(from = 40, to = 50, by = 1)
# 3.2. coil_distance
params["coil_distance"] <- -1
# Get electric field results ----
search2 <- get_efield(params)
search2
View(search1)
View(search2)
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params$bt_width <- 4
View(params)
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params$bt_width <- 4
# 1.2. depth of brain tissue in mm
params&bt_depth <- 3
# 1.3. height of brain tissue in mm
params$bt_height <- 0.15
# 2. Petri dish properties
params$liquid_height <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- seq(from = 40, to = 50, by = 1)
# 3.2. coil_distance
params$coil_distance <- -1
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params$bt_width <- 4
# 1.2. depth of brain tissue in mm
params&bt_depth <- 3
# 1.3. height of brain tissue in mm
params$bt_height <- 0.15
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params$bt_width <- 4
# 1.2. depth of brain tissue in mm
params$bt_depth <- 3
# 1.3. height of brain tissue in mm
params$bt_height <- 0.15
# 2. Petri dish properties
params$liquid_height <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- seq(from = 40, to = 50, by = 1)
# 3.2. coil_distance
params$coil_distance <- -1
# Get electric field results ----
search2 <- get_efield(params)
search2
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# SEARCH 1
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params$bt_width <- 4
# 1.2. depth of brain tissue in mm
params$bt_depth <- 3
# 1.3. height of brain tissue in mm
params$bt_height <- 0.15
# 2. Petri dish properties
# params["liquid_height"] <- 10 or
params$liquid_height <- 10
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- 65
# 3.2. coil_distance
params$coil_distance <- 1
# Get electric field results ----
search1 <- get_efield(params)
search1
View(get_efield)
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# SEARCH 1
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params$bt_width <- 4
# 1.2. depth of brain tissue in mm
params$bt_depth <- 3
# 1.3. height of brain tissue in mm
params$bt_height <- 0.15
# 2. Petri dish properties
# params["liquid_height"] <- 10 or
params$liquid_height <- 10
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- 65
# 3.2. coil_distance
params$coil_distance <- 1
# Get electric field results ----
search1 <- get_efield(params)
search1
# SEARCH 2
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params$bt_width <- 4
# 1.2. depth of brain tissue in mm
params$bt_depth <- 3
# 1.3. height of brain tissue in mm
params$bt_height <- 0.15
# 2. Petri dish properties
params$liquid_height <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- seq(from = 40, to = 50, by = 1)
# 3.2. coil_distance
params$coil_distance <- -1
# Get electric field results ----
search2 <- get_efield(params)
search2
# SEARCH 2
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params$bt_width <- 3.9885
# 1.2. depth of brain tissue in mm
params$bt_depth <- 3.1463
# 1.3. height of brain tissue in mm
params$bt_height <- 0.15
# 2. Petri dish properties
params$liquid_height <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- seq(from = 40, to = 50, by = 1)
# 3.2. coil_distance
params$coil_distance <- -1
# Get electric field results ----
search2 <- get_efield(params)
search2
View(get_efield)
params$mso
params$mso %>% last()
mso_min <- min(params$mso)
mso_min <- min(params$mso)
mso_max <- max(params$mso)
d <- data |> dplyr::filter(mso >= mso_min & mso <= mso_max & coil_distance == params$coil_distance & bt_height == params$bt_height & liquid_height == params$liquid_height)
View(d)
x <- d |>  filter(abs(bt_width - params$bt_width) == min(abs(bt_width - params$bt_width)))
y <- d |>  filter(abs(bt_depth - params$bt_depth) == min(abs(bt_depth - params$bt_depth)))
View(x)
results <- data.frame(x)
results <- rbind(results, data.frame(y))
results <- results  %>% dplyr::mutate(across(c('bt_width', 'bt_depth', 'bt_height', starts_with("EF_")), round, 4))
View(results)
View(search1)
# Description ----
# Execute each line of code by pressing "cntrl (=strg) + enter"
library('ProjectTemplate')
load.project()
# SEARCH 1
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params$bt_width <- 4
# 1.2. depth of brain tissue in mm
params$bt_depth <- 3
# 1.3. height of brain tissue in mm
params$bt_height <- 0.15
# 2. Petri dish properties
# params["liquid_height"] <- 10 or
params$liquid_height <- 10
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- 65
# 3.2. coil_distance
params$coil_distance <- 1
# Get electric field results ----
search1 <- get_efield(params)
search1
# SEARCH 2
params <- list()
# 1. brain tissue properties
# 1.1. width of brain tissue in mm
params$bt_width <- 3.9885
# 1.2. depth of brain tissue in mm
params$bt_depth <- 3.1463
# 1.3. height of brain tissue in mm
params$bt_height <- 0.15
# 2. Petri dish properties
params$liquid_height <- 2.01 + params$bt_height
# 3. Stimulation properties
# 3.1. maximum stimulator intensity stimulation intensity
params$mso <- seq(from = 40, to = 50, by = 1)
# 3.2. coil_distance
params$coil_distance <- -1
# Get electric field results ----
search2 <- get_efield_mso_range(params)
search2
# some useful functions ----
range(data$bt_height)
str(data)
# some useful functions ----
str(data)
range(data$bt_height)
unique(data$bt_height)
unique(data$bt_width)
7*15
